<!--This file will render an application as well as the score criteria and allow the user to submit the evaluation-->
<div class="container">
<script>
	//Weight array. First element in array is always 0
	var weight = {0};
	//The number of criteria there are
	var criteriaCount = {1};
    //The enabled criteria
    var enabledCriteria = {4};
	function calculatePoints(id, rowCount){{
		var Score = document.getElementById("Score_" + id.toString());
		
		if(parseInt(Score.value) > parseInt(Score.max)){{
			Score.value = Score.max;
		}}
		else if(Score.value < Score.min){{
			Score.value = Score.min;
		}}
		
		document.getElementById("Points_" + id.toString()).innerHTML = Score.value * weight[rowCount];
		updateTotal();
	}}
	
	function updateTotal(){{
		var total = 0;
		for(i=0; i < criteriaCount; i++)
		{{
			pointValue = parseInt(document.getElementById("Points_" + enabledCriteria[i].toString()).innerHTML);
			total += pointValue;
		}}
		document.getElementById("Total_Score").innerHTML = total;
	}}
</script> 
<h1>Application Evaluation <br>
<small>Click on the link below to download the application. Then complete the evaluation.</small></h1>

<style>
	.bg-grey {{
		background-color: #f5f5f5;
	}}
</style>
<h3>Application Download:<small><a href="download?application={0}" target="_blank">Download Application</a></small></h3>
<form action="eval" method="POST" id="evalFrm">
	<h2 style="text-align: center;">Application Rubric</h2>
	<div class="panel panel-default">
      <!-- Default panel contents -->
      <div class="panel-heading">Evaluation Criteria </div>

      <!-- Table -->
      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Criteria</th>
            <th>Minimum Score</th>
            <th>Maximum Score</th>
			<th>Weight</th>
			<th>Score</th>
			<th>Points</th>
          </tr>
        </thead>
        <tbody>
			{2}
        </tbody>
      </table>
	  <div class="pull-right">
		<h3><strong>Total</strong>: <span id="Total_Score">0</span>
		<br><small>Max: {3}</span></h3>
	  </div>
    </div>
	<button class="btn btn-primary" style="margin-top: 20px; type="submit">Submit Evaluation</button>
</form>
</div>
